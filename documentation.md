# توثيق منصة Min Jadeed

هذا المستند يقدم شرحاً تفصيلياً لمنصة Min Jadeed، بما في ذلك هيكل المشروع، وطريقة عمل كل جزء، وكيفية ربط المنصة بـ Google Sheets.

## 1. نظرة عامة على المشروع

منصة Min Jadeed هي منصة ويب تتيح للمستخدمين مشاركة وتقييم والتعليق على الاقتباسات. تم تطوير المنصة باستخدام HTML و CSS و JavaScript للواجهة الأمامية، مع استخدام Google Sheets كقاعدة بيانات من خلال Google Apps Script.

### 1.1 الميزات الرئيسية

- تسجيل المستخدمين وإدارة الحسابات
- إضافة وتعديل وحذف الاقتباسات
- تصنيف الاقتباسات حسب الفئات
- تقييم الاقتباسات (من 1 إلى 5 نجوم)
- إضافة تعليقات على الاقتباسات
- عرض الاقتباسات المشابهة
- البحث وتصفية الاقتباسات
- الملفات الشخصية للمستخدمين

### 1.2 هيكل المشروع

```
min_jadeed/
├── css/
│   ├── variables.css      # متغيرات CSS (الألوان، الخطوط، إلخ)
│   ├── layout.css         # تخطيط الصفحات
│   ├── components.css     # مكونات واجهة المستخدم
│   ├── animations.css     # التأثيرات والرسوم المتحركة
│   ├── main.css           # الملف الرئيسي الذي يستورد جميع ملفات CSS
│   └── responsive.css     # الاستجابة للأجهزة المختلفة
├── js/
│   ├── utils.js           # وظائف مساعدة عامة
│   ├── api.js             # واجهة برمجة التطبيقات للاتصال بـ Google Sheets
│   ├── auth.js            # وظائف المصادقة وإدارة المستخدمين
│   ├── ui.js              # وظائف واجهة المستخدم المشتركة
│   ├── quotes.js          # وظائف إدارة الاقتباسات
│   └── profile.js         # وظائف إدارة الملف الشخصي
├── img/
│   ├── logo.svg           # شعار المنصة
│   └── placeholders/      # صور افتراضية
├── pages/
│   ├── login.html         # صفحة تسجيل الدخول
│   ├── signup.html        # صفحة إنشاء حساب جديد
│   ├── profile.html       # صفحة الملف الشخصي
│   ├── new-post.html      # صفحة إضافة اقتباس جديد
│   └── quote-detail.html  # صفحة تفاصيل الاقتباس
├── index.html             # الصفحة الرئيسية
├── google_sheets_data_model.md  # شرح نموذج البيانات في Google Sheets
├── google_apps_script.js  # كود Google Apps Script للواجهة البرمجية
└── testing_guide.md       # دليل اختبار المنصة
```

## 2. شرح ملفات CSS

### 2.1 variables.css

يحتوي هذا الملف على متغيرات CSS التي تستخدم في جميع أنحاء المشروع، مما يسهل تغيير مظهر المنصة بشكل موحد. تشمل هذه المتغيرات:

- الألوان الأساسية والثانوية
- أحجام وأنواع الخطوط
- المسافات والهوامش
- الظلال والانتقالات

استخدام المتغيرات يجعل من السهل تغيير مظهر المنصة بأكملها من خلال تعديل قيم هذه المتغيرات فقط، دون الحاجة إلى تغيير كل قاعدة CSS على حدة.

### 2.2 layout.css

يحتوي هذا الملف على قواعد CSS المسؤولة عن تخطيط الصفحات، مثل:

- تخطيط الشبكة (Grid) والمرونة (Flexbox)
- هيكل الصفحة (الرأس، المحتوى، التذييل)
- القائمة الجانبية
- تخطيط البطاقات والأقسام

يستخدم الملف نهج "Mobile First" حيث يتم تصميم الصفحات للأجهزة المحمولة أولاً، ثم إضافة استعلامات الوسائط (Media Queries) للأجهزة الأكبر.

### 2.3 components.css

يحتوي هذا الملف على أنماط مكونات واجهة المستخدم المختلفة، مثل:

- الأزرار بأنواعها المختلفة
- حقول الإدخال والنماذج
- البطاقات والقوائم
- شارات الفئات
- نجوم التقييم
- التعليقات
- النوافذ المنبثقة
- الإشعارات

تم تصميم هذه المكونات لتكون قابلة لإعادة الاستخدام في جميع أنحاء المنصة، مما يضمن تناسق واجهة المستخدم.

### 2.4 animations.css

يحتوي هذا الملف على التأثيرات والرسوم المتحركة المستخدمة في المنصة، مثل:

- تأثيرات التلاشي (Fade)
- تأثيرات التمرير (Scroll)
- تأثيرات النقر
- مؤشرات التحميل
- انتقالات الصفحات

تضيف هذه التأثيرات لمسة من الحيوية إلى المنصة وتحسن تجربة المستخدم.

### 2.5 main.css

هذا هو الملف الرئيسي الذي يستورد جميع ملفات CSS الأخرى. يحتوي أيضاً على بعض القواعد العامة مثل:

- إعادة تعيين CSS (CSS Reset)
- أنماط العناصر الأساسية (الجسم، العناوين، الفقرات، الروابط)
- الفئات المساعدة العامة

### 2.6 responsive.css

يحتوي هذا الملف على استعلامات الوسائط (Media Queries) التي تضمن عرض المنصة بشكل صحيح على جميع أحجام الشاشات، من الهواتف المحمولة إلى أجهزة الكمبيوتر المكتبية.

## 3. شرح ملفات JavaScript

### 3.1 utils.js

يحتوي هذا الملف على وظائف مساعدة عامة تستخدم في جميع أنحاء المنصة، مثل:

- وظائف التحقق من صحة البيانات (البريد الإلكتروني، كلمة المرور، إلخ)
- وظائف التنسيق (التاريخ، الوقت المنقضي، إلخ)
- وظائف التخزين المحلي
- وظائف DOM (العثور على العناصر، إنشاء عناصر جديدة، إلخ)
- وظائف الإشعارات والتأكيدات

هذه الوظائف تبسط الكود في الملفات الأخرى وتمنع تكرار الكود.

### 3.2 api.js

يحتوي هذا الملف على وظائف الاتصال بواجهة برمجة التطبيقات (API) المنفذة باستخدام Google Apps Script. يتضمن:

- وظيفة إرسال الطلبات إلى الخادم
- وظائف المستخدمين (تسجيل الدخول، إنشاء حساب، تحديث البيانات)
- وظائف الاقتباسات (إضافة، تعديل، حذف، استرجاع)
- وظائف التعليقات والتقييمات

يستخدم هذا الملف نمط الوحدة النمطية الفورية التنفيذ (IIFE) لإنشاء نطاق خاص وتجنب تلوث النطاق العالمي.

### 3.3 auth.js

يحتوي هذا الملف على وظائف المصادقة وإدارة المستخدمين، مثل:

- تسجيل الدخول والخروج
- إنشاء حساب جديد
- التحقق من حالة تسجيل الدخول
- تحديث واجهة المستخدم بناءً على حالة تسجيل الدخول
- وظيفة "تذكرني"
- استعادة كلمة المرور

يتعامل هذا الملف مع جميع جوانب المصادقة وأمان المستخدم.

### 3.4 ui.js

يحتوي هذا الملف على وظائف واجهة المستخدم المشتركة بين جميع صفحات المنصة، مثل:

- إدارة القائمة الجانبية
- إدارة النوافذ المنبثقة
- إدارة نجوم التقييم
- تأثيرات التمرير
- عرض تفاصيل الاقتباس
- إدارة التعليقات

هذه الوظائف تضمن تناسق تجربة المستخدم في جميع أنحاء المنصة.

### 3.5 quotes.js

يحتوي هذا الملف على وظائف إدارة الاقتباسات، مثل:

- تحميل وعرض الاقتباسات
- إضافة اقتباس جديد
- تعديل وحذف الاقتباسات
- تصفية الاقتباسات حسب الفئة
- ترتيب الاقتباسات (الأحدث، الأعلى تقييماً)
- عرض الاقتباسات المشابهة
- إدارة التعليقات والتقييمات

يتعامل هذا الملف مع جميع العمليات المتعلقة بالاقتباسات.

### 3.6 profile.js

يحتوي هذا الملف على وظائف إدارة الملف الشخصي للمستخدم، مثل:

- عرض بيانات المستخدم
- تحديث بيانات المستخدم
- تغيير كلمة المرور
- تحميل صورة الملف الشخصي
- عرض اقتباسات المستخدم
- عرض إحصائيات المستخدم

يتعامل هذا الملف مع جميع العمليات المتعلقة بالملف الشخصي للمستخدم.

## 4. شرح ملفات HTML

### 4.1 index.html

الصفحة الرئيسية للمنصة، تعرض:

- قائمة الاقتباسات
- خيارات التصفية والترتيب
- القائمة الجانبية
- شريط البحث

تستخدم هذه الصفحة نظام بطاقات لعرض الاقتباسات، مع إمكانية تحميل المزيد من الاقتباسات عند التمرير إلى أسفل الصفحة.

### 4.2 login.html

صفحة تسجيل الدخول، تحتوي على:

- نموذج تسجيل الدخول (البريد الإلكتروني، كلمة المرور)
- خيار "تذكرني"
- رابط "نسيت كلمة المرور"
- رابط للانتقال إلى صفحة إنشاء حساب جديد

تتحقق هذه الصفحة من صحة البيانات المدخلة قبل إرسالها إلى الخادم.

### 4.3 signup.html

صفحة إنشاء حساب جديد، تحتوي على:

- نموذج إنشاء الحساب (الاسم الكامل، اسم المستخدم، البريد الإلكتروني، كلمة المرور)
- اختيار الفئات المفضلة
- الموافقة على الشروط والأحكام

تتحقق هذه الصفحة من صحة البيانات المدخلة وتمنع استخدام بريد إلكتروني أو اسم مستخدم موجود مسبقاً.

### 4.4 profile.html

صفحة الملف الشخصي، تحتوي على:

- معلومات المستخدم (الاسم، البريد الإلكتروني، تاريخ الانضمام)
- علامات تبويب (المعلومات الشخصية، الاقتباسات، الإحصائيات، تعديل الملف الشخصي)
- نموذج تحديث البيانات
- نموذج تغيير كلمة المرور
- قائمة اقتباسات المستخدم

تتيح هذه الصفحة للمستخدم عرض وتحديث بياناته الشخصية وإدارة اقتباساته.

### 4.5 new-post.html

صفحة إضافة اقتباس جديد، تحتوي على:

- نموذج إضافة اقتباس (العنوان، الفئة، النص)
- معاينة مباشرة للاقتباس
- زر نشر الاقتباس

تتيح هذه الصفحة للمستخدم إضافة اقتباس جديد مع إمكانية معاينته قبل النشر.

### 4.6 quote-detail.html

صفحة تفاصيل الاقتباس، تحتوي على:

- تفاصيل الاقتباس (العنوان، الفئة، النص، المؤلف، التاريخ)
- نجوم التقييم
- قائمة التعليقات
- نموذج إضافة تعليق
- قائمة الاقتباسات المشابهة
- أزرار التعديل والحذف (للمؤلف فقط)

تتيح هذه الصفحة للمستخدم عرض تفاصيل الاقتباس والتفاعل معه من خلال التقييم والتعليق.

## 5. تكامل Google Sheets

### 5.1 نموذج البيانات

يستخدم المشروع Google Sheets كقاعدة بيانات، مع الجداول التالية:

- **Users**: يخزن بيانات المستخدمين
- **Quotes**: يخزن الاقتباسات
- **Comments**: يخزن التعليقات
- **Ratings**: يخزن تقييمات المستخدمين للاقتباسات

يمكن الاطلاع على تفاصيل هيكل كل جدول في ملف `google_sheets_data_model.md`.

### 5.2 Google Apps Script

يستخدم المشروع Google Apps Script لإنشاء واجهة برمجية تطبيقات (API) تتيح للموقع التفاعل مع بيانات Google Sheets. يتضمن الكود:

- نقاط نهاية (Endpoints) لجميع العمليات (المستخدمين، الاقتباسات، التعليقات، التقييمات)
- وظائف معالجة الطلبات
- وظائف التحقق من الصحة والأمان
- وظائف مساعدة (إنشاء معرفات فريدة، تشفير كلمات المرور، إلخ)

يمكن الاطلاع على الكود الكامل في ملف `google_apps_script.js`.

## 6. تدفق المستخدم

### 6.1 المستخدم الزائر

1. يمكن للزائر تصفح الصفحة الرئيسية وعرض الاقتباسات
2. يمكنه تصفية الاقتباسات حسب الفئة وترتيبها
3. يمكنه عرض تفاصيل الاقتباسات
4. لا يمكنه إضافة اقتباسات أو تعليقات أو تقييمات
5. يمكنه إنشاء حساب جديد أو تسجيل الدخول

### 6.2 المستخدم المسجل

1. يمكن للمستخدم المسجل القيام بكل ما يمكن للزائر القيام به
2. يمكنه إضافة اقتباسات جديدة
3. يمكنه تعديل وحذف اقتباساته الخاصة
4. يمكنه إضافة تعليقات وتقييمات على الاقتباسات
5. يمكنه عرض وتحديث ملفه الشخصي
6. يمكنه تسجيل الخروج

## 7. الأمان

### 7.1 مصادقة المستخدمين

- يتم تشفير كلمات المرور قبل تخزينها في Google Sheets
- يتم التحقق من صحة البيانات المدخلة قبل إرسالها إلى الخادم
- يتم استخدام التخزين المحلي لحفظ بيانات المستخدم بعد تسجيل الدخول

### 7.2 التحكم في الوصول

- يتم التحقق من تسجيل الدخول قبل السماح بالعمليات التي تتطلب ذلك
- يتم التحقق من أن المستخدم هو مؤلف الاقتباس قبل السماح بتعديله أو حذفه
- يتم إخفاء أزرار التعديل والحذف عن المستخدمين غير المصرح لهم

## 8. التوافق مع الأجهزة المختلفة

تم تصميم المنصة لتكون متوافقة مع جميع أحجام الشاشات:

- **الحواسيب**: تخطيط متعدد الأعمدة مع قائمة جانبية ثابتة
- **الأجهزة اللوحية**: تخطيط مرن مع قائمة جانبية قابلة للطي
- **الهواتف الذكية**: تخطيط عمود واحد مع قائمة جانبية منزلقة

تم استخدام استعلامات الوسائط (Media Queries) لضمان عرض المنصة بشكل صحيح على جميع الأجهزة.

## 9. الاختبار

يتضمن المشروع دليل اختبار شامل (`testing_guide.md`) يغطي:

- إعداد Google Sheets وGoogle Apps Script
- اختبار وظائف المستخدمين
- اختبار وظائف الاقتباسات
- اختبار تصفية وترتيب الاقتباسات
- اختبار تدفق المستخدم
- اختبار التوافق مع الأجهزة المختلفة
- اختبار الأمان
- اختبار الأداء

يجب اتباع هذا الدليل للتأكد من عمل جميع وظائف المنصة بشكل سليم.

## 10. التطوير المستقبلي

يمكن تطوير المنصة في المستقبل بإضافة الميزات التالية:

- نظام إشعارات في الوقت الحقيقي
- دعم الوسائط المتعددة (صور، فيديو)
- نظام متابعة المستخدمين
- خاصية المفضلة
- خاصية المشاركة على وسائل التواصل الاجتماعي
- تحسين محرك البحث
- إضافة لوحة تحكم للمشرفين

## 11. الخلاصة

منصة Min Jadeed هي منصة ويب متكاملة لمشاركة وتقييم الاقتباسات، تم تطويرها باستخدام HTML و CSS و JavaScript للواجهة الأمامية، مع استخدام Google Sheets كقاعدة بيانات من خلال Google Apps Script.

تتميز المنصة بواجهة مستخدم سهلة الاستخدام ومتوافقة مع جميع الأجهزة، مع توفير جميع الوظائف الأساسية لإدارة المستخدمين والاقتباسات والتعليقات والتقييمات.

يمكن تشغيل المنصة بسهولة من خلال إعداد Google Sheets وGoogle Apps Script كما هو موضح في دليل الاختبار، ثم استضافة ملفات الواجهة الأمامية على أي خادم ويب.
