# هيكل موقع منصة Min Jadeed

## هيكل الملفات

```
min_jadeed/
├── index.html                  # الصفحة الرئيسية
├── css/
│   ├── main.css                # الأنماط الرئيسية المشتركة
│   ├── variables.css           # متغيرات CSS (الألوان، الخطوط)
│   ├── layout.css              # تخطيط الصفحة (Grid/Flexbox)
│   ├── components.css          # مكونات واجهة المستخدم (البطاقات، الأزرار)
│   ├── animations.css          # التأثيرات والحركات
│   └── responsive.css          # الاستجابة لمختلف أحجام الشاشات
├── js/
│   ├── app.js                  # التهيئة الرئيسية للتطبيق
│   ├── api.js                  # وظائف الاتصال بـ Google Sheets API
│   ├── auth.js                 # وظائف المصادقة وإدارة الجلسات
│   ├── ui.js                   # وظائف واجهة المستخدم المشتركة
│   ├── quotes.js               # وظائف إدارة الاقتباسات
│   ├── profile.js              # وظائف إدارة الملف الشخصي
│   └── utils.js                # وظائف مساعدة متنوعة
├── pages/
│   ├── login.html              # صفحة تسجيل الدخول
│   ├── signup.html             # صفحة إنشاء حساب جديد
│   ├── profile.html            # صفحة الملف الشخصي
│   ├── new-post.html           # صفحة إنشاء منشور جديد
│   └── quote-detail.html       # صفحة تفاصيل الاقتباس
└── img/
    ├── logo.svg                # شعار المنصة
    ├── icons/                  # أيقونات المنصة
    └── placeholders/           # صور افتراضية
```

## وصف الصفحات الرئيسية

### 1. الصفحة الرئيسية (index.html)

**المكونات الرئيسية:**
- رأس ثابت مع شعار المنصة وأيقونة القائمة الجانبية وزر اختيار الفئات
- قائمة جانبية تظهر/تختفي مع أزرار تسجيل الدخول/إنشاء حساب أو معلومات المستخدم
- علامات تبويب للتبديل بين "الأحدث" و"الأعلى تقييماً"
- شبكة بطاقات ثلاثية الأبعاد تعرض الاقتباسات
- تمرير لانهائي أو ترقيم صفحات لتحميل المزيد من البطاقات

**ملفات JavaScript المرتبطة:**
- app.js: تهيئة التطبيق وإدارة الأحداث الرئيسية
- api.js: جلب الاقتباسات من Google Sheets
- ui.js: إدارة واجهة المستخدم (القائمة الجانبية، التصفية)
- quotes.js: عرض وتحديث بطاقات الاقتباسات

### 2. صفحة تسجيل الدخول (login.html)

**المكونات الرئيسية:**
- نموذج تسجيل الدخول مع حقول البريد الإلكتروني وكلمة المرور
- زر "تسجيل الدخول" الرئيسي
- روابط "نسيت كلمة المرور؟" و"إنشاء حساب"

**ملفات JavaScript المرتبطة:**
- auth.js: التحقق من بيانات الاعتماد وإدارة الجلسات
- api.js: الاتصال بـ Google Sheets للتحقق من المستخدم

### 3. صفحة إنشاء حساب (signup.html)

**المكونات الرئيسية:**
- نموذج إنشاء حساب مع حقول الاسم الكامل واسم المستخدم والبريد الإلكتروني وكلمة المرور وتأكيد كلمة المرور
- زر "إنشاء حساب" الرئيسي

**ملفات JavaScript المرتبطة:**
- auth.js: التحقق من صحة النموذج وإنشاء حساب جديد
- api.js: إرسال بيانات المستخدم الجديد إلى Google Sheets

### 4. صفحة الملف الشخصي (profile.html)

**المكونات الرئيسية:**
- قسم الملف الشخصي مع صورة المستخدم والاسم الكامل واسم المستخدم والبريد الإلكتروني ورابط LinkedIn والفئات المفضلة
- زر "تعديل الملف الشخصي" (يفتح نافذة منبثقة أو صفحة منفصلة)
- قسم "منشوراتي" مع شريط بحث داخلي وقائمة المنشورات

**ملفات JavaScript المرتبطة:**
- profile.js: إدارة عرض وتحديث معلومات الملف الشخصي
- quotes.js: عرض وإدارة منشورات المستخدم
- api.js: جلب وتحديث بيانات المستخدم في Google Sheets

### 5. صفحة إنشاء منشور جديد (new-post.html)

**المكونات الرئيسية:**
- نموذج داخل العنصر <main> مع حقل العنوان وقائمة منسدلة للفئات ومنطقة نص الاقتباس
- لوحة معاينة مباشرة تعرض النص مع دعم الروابط القابلة للنقر
- زر "نشر" رئيسي وزر "إلغاء" ثانوي
- رسائل تحقق مضمنة للحقول المطلوبة

**ملفات JavaScript المرتبطة:**
- quotes.js: إدارة إنشاء وتحرير الاقتباسات
- ui.js: المعاينة المباشرة وتحويل الروابط
- api.js: إرسال بيانات الاقتباس الجديد إلى Google Sheets

### 6. صفحة تفاصيل الاقتباس (quote-detail.html)

**المكونات الرئيسية:**
- عرض نص الاقتباس الكامل بشكل بارز
- رأس التفاصيل مع صورة المؤلف واسمه وشارة الفئة
- عرض متوسط التقييم مع عناصر تحكم النجوم التفاعلية
- قائمة التعليقات مع اسم المعلق والنص والطابع الزمني
- حقل إدخال وزر "إرسال" لإضافة تعليق جديد
- أزرار "تعديل" و"حذف" مرئية فقط للمؤلف
- لوحة جانبية تعرض اقتباسات ذات صلة أو موصى بها بناءً على الفئة

**ملفات JavaScript المرتبطة:**
- quotes.js: عرض تفاصيل الاقتباس والتعليقات
- ui.js: إدارة التقييمات والتعليقات
- api.js: جلب وتحديث بيانات الاقتباس والتعليقات في Google Sheets

## نموذج البيانات (Google Sheets)

### 1. جدول المستخدمين (Users)
- UID (البريد الإلكتروني)
- الاسم الكامل (FullName)
- اسم المستخدم (Username)
- كلمة المرور (Password)
- رابط LinkedIn
- الفئات المفضلة (FavoriteCategories)

### 2. جدول الاقتباسات (Quotes)
- المعرف (ID)
- العنوان (Title)
- النص (Text)
- الفئة (Category)
- بريد المؤلف الإلكتروني (AuthorEmail)
- اسم المؤلف (AuthorName)
- رابط الصورة الرمزية (AvatarURL)
- تاريخ الإنشاء (CreatedAt)
- متوسط التقييم (AvgRating)
- عدد التقييمات (RatingsCount)

### 3. جدول التقييمات (Ratings)
- معرف الاقتباس (QuoteID)
- بريد المستخدم الإلكتروني (UserEmail)
- التقييم (Rating)
- تاريخ الإنشاء (CreatedAt)

### 4. جدول التعليقات (Comments)
- المعرف (ID)
- معرف الاقتباس (QuoteID)
- بريد المستخدم الإلكتروني (UserEmail)
- اسم المستخدم (UserName)
- النص (Text)
- تاريخ الإنشاء (CreatedAt)

## واجهة برمجة التطبيقات (Google Apps Script)

### نقاط النهاية الرئيسية:

1. **GET /quotes**
   - جلب الاقتباسات (يدعم معلمات الاستعلام للتصفية والترتيب)
   - معلمات: category, sort_by, page, limit

2. **POST /quote**
   - إنشاء اقتباس جديد
   - البيانات: title, text, category, authorEmail

3. **POST /rating**
   - إضافة أو تحديث تقييم
   - البيانات: quoteId, userEmail, rating

4. **GET /comments**
   - جلب التعليقات لاقتباس محدد
   - معلمات: quoteId

5. **POST /comment**
   - إضافة تعليق جديد
   - البيانات: quoteId, userEmail, userName, text

6. **GET /user**
   - جلب بيانات الملف الشخصي للمستخدم
   - معلمات: email

7. **PUT /user**
   - تحديث بيانات الملف الشخصي للمستخدم
   - البيانات: email, fullName, linkedin, favoriteCategories
